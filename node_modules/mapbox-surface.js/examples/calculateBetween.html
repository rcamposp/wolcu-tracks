<!DOCTYPE html>
<html>
<head>
    <title>mapbox-surface.js</title>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1'>
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.0/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.0/mapbox.css' rel='stylesheet' />
    <script src='../dist/mapbox.surface.js'></script>
    <link rel='stylesheet' href='../dist/mapbox.surface.css' />
    <style>
    #map {
        position: absolute;
        top: 0;
        bottom: 0;
        height: 100%;
        width: 100%;
    }
    body {
        margin: 0;
        padding: 0;
    }
    </style>
</head>
<body>
    <div id='map'></div>
</body>
<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYm9iYnlzdWQiLCJhIjoiZlY0VElqTSJ9.gGJetUgdQKj64oeS5j9kzQ';

var map = L.mapbox.map('map', 'bobbysud.iia43k9m')
    .setView([34.5924675,-119.46335499999999], 14);

var surface = L.mapbox.surface();

var surfaceOptions = {
    mapid: 'mapbox.mapbox-terrain-v1',
    layer: 'contour',
    fields: 'ele',
};

// `calculateBetween` calculates values at a set interval between two points
surface.calculateBetween(surfaceOptions, [34.6107, -119.4648], [34.5678, -119.4614], 20, function(error, res) {
    if (error) throw new Error(error);
    res.results.forEach(function(point){
        L.marker(point.latlng)
            .bindPopup('Point derived using <code>calculateBetween()</code> Elevation: ' + point.ele.toString())
            .addTo(map);
    });
});

</script>
</html>
