## mapbox-surface.js
*A mapbox.js plugin for using the Mapbox Surface API*

Create a new surface object: `L.mapbox.surface(options)`

Functions:
* [`L.mapbox.surface().getInfo(mapid, callback)`](https://github.com/mapbox/mapbox-surface.js/blob/hey-pages/API.md#lmapboxsurfacegetinfomapid-callback)
* [`L.mapbox.surface().getData(options, data, callback)`](https://github.com/mapbox/mapbox-surface.js/blob/hey-pages/API.md#lmapboxsurfacegetdataoptions-data-callback)
* [`L.mapbox.surface().calculateBetween(options, point 1, point 2, interval, callback)`](https://github.com/mapbox/mapbox-surface.js/blob/hey-pages/API.md#lmapboxsurfacecalculatebetweenoptions-point-1-point-2-interval-callback)
* [`L.mapbox.surface.chart(options, data)`](https://github.com/mapbox/mapbox-surface.js/blob/hey-pages/API.md#lmapboxsurfacechartoptions-data)
* [`L.mapbox.surface.line(options, data)`](https://github.com/mapbox/mapbox-surface.js/blob/hey-pages/API.md#lmapboxsurfacelineoptions-data)


====================

##### `L.mapbox.surface().getInfo(mapid, callback)`

*Get's information about a given mapid*
Example: 
```js
L.mapbox.surface().getInfo('mapbox.mapbox-terrain-v1', function(err, res) {
    if (err) throw new Error(err);
    console.log(res);
});
```
Arguments
* `<mapid>`
* callback

====================

##### `L.mapbox.surface().getData(options, data, callback)`
*Get's data given a set of points*

Example
```js
var surfaceOptions = {
    mapid: 'mapbox.mapbox-terrain-v1',
    layer: 'contour',
    fields: ['ele', 'index']
};

var singlePoint = [34.59704151614417, -119.57244873046874];

L.mapbox.surface().getData(surfaceOptions, singlePoint, function(err, res) {
    if (err) throw new Error(err);
    console.log(res
    }).addTo(map);
```

Arguments
* Options, object:
 * `<mapdid>`
 * `<layer>`
 * `<fields>`

====================

##### `L.mapbox.surface().calculateBetween(options, point 1, point 2, interval, callback)`

*Calculates data between two points given a set interval*

Example
```js
var surfaceOptions = {
    mapid: 'mapbox.mapbox-terrain-v1',
    layer: 'contour',
    fields: 'ele',
};

L.mapbox.surface().calculateBetween(surfaceOptions, [34.6107, -119.4648], [34.5678, -119.4614], 20, function(error, res) {
    if (error) throw new Error(error);
    res.results.forEach(function(point){
        L.marker(point.latlng)
            .bindPopup('Point derived using <code>calculateBetween()</code> Elevation: ' + point.ele.toString())
            .addTo(map);
    });
});
```
Arguments
* Options, object:
 * `<mapdid>`
 * `<layer>`
 * `<fields>`
* `<point 1>`
* `<point 2>`
* `<Interval>`
* Callback

==========================
##### `L.mapbox.surface.chart(options, data)`
*Adds a chart given a set of data*

Arguments:
* options, object:
 * `[position]`, default: `topright`
 * `[chartType]`, default to `area`. Other option: `line`
 * yAxis, Object:
    * <data>: corresponding field from `getData` request
    * `[units]`: used for labelling axis
    * [numberOfTicks]: number of tick marks on axis. Default to `4`
    * `[label]`
 * xAxis, Object:
    * <data>: corresponding field from `getData` request
    * `[units]`: used for labelling axis
    * [numberOfTicks]: number of tick marks on axis. Default to `4`
    * `[label]`
 
position: 'topright',
            chartType: 'area',
            yAxis: {
                data: 'ele',
                units: 'm'
            }

Example
```js
surface.getData(surfaceOptions, data, function(err, res) {
    if (err) throw new Error(err);

    var elevationChart = L.mapbox.surface.chart({
            position: 'topright',
            chartType: 'area',
            yAxis: {
                data: 'ele',
                units: 'm'
            }
        }, res)
        .addTo(map);
        
        L.mapbox.surface.line({
            chart: elevationChart,
            color: 'orange',
            weight: 10
        }, res.results).addTo(map);
});
```

=================

##### `L.mapbox.surface.line(options, data);`

*Creates a line segment given a set of data and connects it to a chart*

Example
```js
surface.getData(surfaceOptions, data, function(err, res) {
    if (err) throw new Error(err);

    var elevationChart = L.mapbox.surface.chart({
            position: 'topright',
            chartType: 'area',
            yAxis: {
                data: 'ele',
                units: 'm'
            }
        }, res)
        .addTo(map);
        
        L.mapbox.surface.line({
            chart: elevationChart, //Connects to chart above
            color: 'orange',
            weight: 10
        }, res.results).addTo(map);
});
```
Arguments:
* Options, object:
 * `<chart>`: connects the line segment to a surface chart
 * [All other normal leaflet path options are available](http://leafletjs.com/reference.html#path)
* `<data>`: data from a `getData` response
